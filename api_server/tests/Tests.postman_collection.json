{
	"info": {
		"_postman_id": "64ab5bdc-9b97-4ef0-95ce-1295e0411a36",
		"name": "Tests",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "UserPreferences",
			"item": [
				{
					"name": "create",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "47a1742a-ea33-41d7-8923-f8954e8301ea",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Sets schema correctly\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.data.setUserPreferences.preferences.schema).to.eql(\"dark\");",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "graphql",
							"graphql": {
								"query": "mutation addUser  {\n  setUserPreferences(id:\"1234\",input:{\n    schema:\"dark\",\n  }){\n      preferences {schema}\n  }\n}",
								"variables": ""
							}
						},
						"url": {
							"raw": "{{api_server_uri}}/query",
							"host": [
								"{{api_server_uri}}"
							],
							"path": [
								"query"
							]
						},
						"description": "> Postman launched built-in support for GraphQL in version 7.2.\n\nIf you're using Postman v7.2 or later, the app supports the following:\n\n* Sending GraphQL queries in request body as POST requests\n* Support for GraphQL variables\n* Creating APIs in Postman with GraphQL schema type\n* Query autocompletion integrated with user-defined GraphQL schemas\n \nThis example is from this step-by-step tutorial about [how to use Postman with the Spotify GraphQL API](https://blog.getpostman.com/2019/06/18/postman-v7-2-supports-graphql/).\n\n![[GraphQL in Postman](https://i.imgur.com/4nKoPU7.png)](https://i.imgur.com/4nKoPU7.png)\n\nTo enable the autocompletion, you will need to add a GraphQL schema under the APIs tab, and then select the schema while typing your query. An example GraphQL schema:\n\n```\ntype Album {\n  name: String\n  id: ID\n  image: String\n  tracks: [Track]\n}\n\ntype Artist {\n  name: String!\n  id: ID\n  image: String\n  albums(limit: Int = 10): [Album]\n}\n\ntype Query {\n  hi(message: String = \"Hi\"): String\n  queryArtists(byName: String = \"Red Hot Chili Peppers\"): [Artist]\n}\n\ntype Track {\n  name: String!\n  artists: [Artist]\n  preview_url: String\n  id: ID\n}\n```"
					},
					"response": [
						{
							"name": "successful response",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "graphql",
									"graphql": {
										"query": "query getByArtist ($name: String!) {\n    queryArtists (byName: $name) {\n        name\n        image\n        albums {\n            name\n        }\n    }\n}",
										"variables": "{\n    \"name\": \"{{artist}}\"\n}"
									}
								},
								"url": {
									"raw": "https://spotify-graphql-server.herokuapp.com/graphql",
									"protocol": "https",
									"host": [
										"spotify-graphql-server",
										"herokuapp",
										"com"
									],
									"path": [
										"graphql"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Server",
									"value": "Cowboy"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "X-Powered-By",
									"value": "Express"
								},
								{
									"key": "Access-Control-Allow-Origin",
									"value": "*"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "3453"
								},
								{
									"key": "Etag",
									"value": "W/\"d7d-Tpc/sCuFhUg6s283JzeQA6Wh6zo\""
								},
								{
									"key": "Date",
									"value": "Tue, 18 Jun 2019 21:07:28 GMT"
								},
								{
									"key": "Via",
									"value": "1.1 vegur"
								}
							],
							"cookie": [],
							"body": "{\n    \"data\": {\n        \"queryArtists\": [\n            {\n                \"name\": \"Pink Floyd\",\n                \"image\": \"https://i.scdn.co/image/e69f71e2be4b67b82af90fb8e9d805715e0684fa\",\n                \"albums\": [\n                    {\n                        \"name\": \"The Endless River\"\n                    },\n                    {\n                        \"name\": \"The Endless River\"\n                    },\n                    {\n                        \"name\": \"Pulse\"\n                    },\n                    {\n                        \"name\": \"Pulse (Live)\"\n                    },\n                    {\n                        \"name\": \"The Division Bell (2011 Remastered Version)\"\n                    },\n                    {\n                        \"name\": \"The Division Bell\"\n                    },\n                    {\n                        \"name\": \"Delicate Sound of Thunder (Live)\"\n                    },\n                    {\n                        \"name\": \"Delicate Sound Of Thunder\"\n                    },\n                    {\n                        \"name\": \"A Momentary Lapse of Reason\"\n                    },\n                    {\n                        \"name\": \"A Momentary Lapse of Reason\"\n                    },\n                    {\n                        \"name\": \"A Momentary Lapse Of Reason (2011 Remastered Version)\"\n                    },\n                    {\n                        \"name\": \"The Final Cut (2011 Remastered Version)\"\n                    },\n                    {\n                        \"name\": \"The Final Cut\"\n                    },\n                    {\n                        \"name\": \"The Wall\"\n                    },\n                    {\n                        \"name\": \"The Wall (Remastered)\"\n                    },\n                    {\n                        \"name\": \"Animals\"\n                    },\n                    {\n                        \"name\": \"Animals (2011 Remastered Version)\"\n                    },\n                    {\n                        \"name\": \"Wish You Were Here\"\n                    },\n                    {\n                        \"name\": \"Wish You Were Here [Remastered] (Remastered Version)\"\n                    },\n                    {\n                        \"name\": \"The Dark Side of the Moon\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"Dj Pink Floyd\",\n                \"image\": \"https://i.scdn.co/image/1e6e870d6fa368e77cb23fe628ca8d5d093f2d7c\",\n                \"albums\": [\n                    {\n                        \"name\": \"Go to Sleep\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"Think Pink Floyd\",\n                \"image\": \"https://i.scdn.co/image/15978deb5e42e26bbc81a0464084b9638457cb76\",\n                \"albums\": [\n                    {\n                        \"name\": \"Billy Martin\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"Pink Floyd Redux\",\n                \"image\": \"https://i.scdn.co/image/92911e90e7cfa8c64c2c790b22b75bce1e31508e\",\n                \"albums\": [\n                    {\n                        \"name\": \"A New Music Experience\"\n                    },\n                    {\n                        \"name\": \"Pink Floyd Redux\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"The Australian Pink Floyd Show\",\n                \"image\": \"https://i.scdn.co/image/4080bc55ea9ccc9f4fb101eae4c14351e832c382\",\n                \"albums\": [\n                    {\n                        \"name\": \"Exposed In The Light\"\n                    },\n                    {\n                        \"name\": \"Live at Hammersmith Apollo 2011\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"Celtic Pink Floyd\",\n                \"image\": \"https://i.scdn.co/image/41c1dd9c5d40e9e3d2e2abe90d7c6d751075af3b\",\n                \"albums\": [\n                    {\n                        \"name\": \"In Studio\"\n                    },\n                    {\n                        \"name\": \"Celtic Pink Floyd\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"The Pink Floyd Story\",\n                \"image\": \"https://i.scdn.co/image/2480d7c24b9ad93408a8455b1dc281d3f7239268\",\n                \"albums\": [\n                    {\n                        \"name\": \"The Great Gig In the Sky\"\n                    },\n                    {\n                        \"name\": \"American Horror Story - The Name Game\"\n                    },\n                    {\n                        \"name\": \"American Horror Story - The Name Game\"\n                    },\n                    {\n                        \"name\": \"Travellers - The Complete Fantasy Playlist\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"Floyd Pink\",\n                \"image\": \"https://i.scdn.co/image/5fd98e28dcbbaa97b3cc2ed84683589dddc424b4\",\n                \"albums\": [\n                    {\n                        \"name\": \"Money (Broke Version)\"\n                    },\n                    {\n                        \"name\": \"PUSH EP\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"Pink Floyd Project\",\n                \"image\": \"https://i.scdn.co/image/948813e539c645da4b8b0ef8a7560102a27bfc80\",\n                \"albums\": [\n                    {\n                        \"name\": \"Jelling Musikfestival 2012\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"Hungarian Pink Floyd Show\",\n                \"image\": \"https://i.scdn.co/image/53f81d7757b55320a9b4248cc96ef36d26f8dfe1\",\n                \"albums\": [\n                    {\n                        \"name\": \"On The Turning Away 2012\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"Atom Pink Floyd Tribute\",\n                \"image\": \"https://i.scdn.co/image/6cbd40d400a19ef0d86eec900b4cb78c18ed1354\",\n                \"albums\": [\n                    {\n                        \"name\": \"Tearing Down the Wall: Live 2015\"\n                    },\n                    {\n                        \"name\": \"Studio Sessions - Wish You Were Here\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"Pink Floyd Tribute Band\",\n                \"image\": \"\",\n                \"albums\": [\n                    {\n                        \"name\": \"World's Greatest Rock Anthems - The Only Rock Tributes Album You'll Ever Need! (Deluxe Version)\"\n                    },\n                    {\n                        \"name\": \"World's Greatest Rock Anthems - The only Rock Tributes album you'll ever need!\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"Made famous by Pink Floyd\",\n                \"image\": \"\",\n                \"albums\": [\n                    {\n                        \"name\": \"Lesbian Music\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"The Machine Perform Pink Floyd\",\n                \"image\": \"https://i.scdn.co/image/52a23a39ff1313c05a54a624734d90cc3057d34c\",\n                \"albums\": [\n                    {\n                        \"name\": \"Two Nights At The Keswick, Volume 2\"\n                    },\n                    {\n                        \"name\": \"The Machine Unplugged\"\n                    },\n                    {\n                        \"name\": \"Two Nights at the Keswick, Volume 1\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"THE ILLUSION A SOUND LIKE PINK FLOYD\",\n                \"image\": \"https://i.scdn.co/image/b83e98cbf88f9807fbe31c7cff33b959ba12cd67\",\n                \"albums\": [\n                    {\n                        \"name\": \"Project One\"\n                    },\n                    {\n                        \"name\": \"Leaving the Earth\"\n                    }\n                ]\n            }\n        ]\n    }\n}"
						}
					]
				},
				{
					"name": "get",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "0b50d13e-9006-499b-a2aa-363233f5be49",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Gets schema correctly \", function () {",
									"    var jsonData = pm.response.json();",
									"    console.log(jsonData)",
									"    pm.expect(jsonData.data.user.preferences.schema).to.eql(\"dark\");",
									"    pm.expect(jsonData.data.user.id).to.eql(\"1234\");",
									"});",
									"",
									"var body = JSON.parse(responseBody); ",
									"var content = responseBody;",
									"tests[\"Response Body\"+content]= body.length != 0",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "graphql",
							"graphql": {
								"query": "query  {\n  user (id:\"1234\"){\n    id\n    preferences {\n      schema\n    }\n  }\n}",
								"variables": ""
							}
						},
						"url": {
							"raw": "{{api_server_uri}}/query",
							"host": [
								"{{api_server_uri}}"
							],
							"path": [
								"query"
							]
						},
						"description": "> Postman launched built-in support for GraphQL in version 7.2.\n\nIf you're using Postman v7.2 or later, the app supports the following:\n\n* Sending GraphQL queries in request body as POST requests\n* Support for GraphQL variables\n* Creating APIs in Postman with GraphQL schema type\n* Query autocompletion integrated with user-defined GraphQL schemas\n \nThis example is from this step-by-step tutorial about [how to use Postman with the Spotify GraphQL API](https://blog.getpostman.com/2019/06/18/postman-v7-2-supports-graphql/).\n\n![[GraphQL in Postman](https://i.imgur.com/4nKoPU7.png)](https://i.imgur.com/4nKoPU7.png)\n\nTo enable the autocompletion, you will need to add a GraphQL schema under the APIs tab, and then select the schema while typing your query. An example GraphQL schema:\n\n```\ntype Album {\n  name: String\n  id: ID\n  image: String\n  tracks: [Track]\n}\n\ntype Artist {\n  name: String!\n  id: ID\n  image: String\n  albums(limit: Int = 10): [Album]\n}\n\ntype Query {\n  hi(message: String = \"Hi\"): String\n  queryArtists(byName: String = \"Red Hot Chili Peppers\"): [Artist]\n}\n\ntype Track {\n  name: String!\n  artists: [Artist]\n  preview_url: String\n  id: ID\n}\n```"
					},
					"response": [
						{
							"name": "successful response",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "graphql",
									"graphql": {
										"query": "query getByArtist ($name: String!) {\n    queryArtists (byName: $name) {\n        name\n        image\n        albums {\n            name\n        }\n    }\n}",
										"variables": "{\n    \"name\": \"{{artist}}\"\n}"
									}
								},
								"url": {
									"raw": "https://spotify-graphql-server.herokuapp.com/graphql",
									"protocol": "https",
									"host": [
										"spotify-graphql-server",
										"herokuapp",
										"com"
									],
									"path": [
										"graphql"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Server",
									"value": "Cowboy"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "X-Powered-By",
									"value": "Express"
								},
								{
									"key": "Access-Control-Allow-Origin",
									"value": "*"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "3453"
								},
								{
									"key": "Etag",
									"value": "W/\"d7d-Tpc/sCuFhUg6s283JzeQA6Wh6zo\""
								},
								{
									"key": "Date",
									"value": "Tue, 18 Jun 2019 21:07:28 GMT"
								},
								{
									"key": "Via",
									"value": "1.1 vegur"
								}
							],
							"cookie": [],
							"body": "{\n    \"data\": {\n        \"queryArtists\": [\n            {\n                \"name\": \"Pink Floyd\",\n                \"image\": \"https://i.scdn.co/image/e69f71e2be4b67b82af90fb8e9d805715e0684fa\",\n                \"albums\": [\n                    {\n                        \"name\": \"The Endless River\"\n                    },\n                    {\n                        \"name\": \"The Endless River\"\n                    },\n                    {\n                        \"name\": \"Pulse\"\n                    },\n                    {\n                        \"name\": \"Pulse (Live)\"\n                    },\n                    {\n                        \"name\": \"The Division Bell (2011 Remastered Version)\"\n                    },\n                    {\n                        \"name\": \"The Division Bell\"\n                    },\n                    {\n                        \"name\": \"Delicate Sound of Thunder (Live)\"\n                    },\n                    {\n                        \"name\": \"Delicate Sound Of Thunder\"\n                    },\n                    {\n                        \"name\": \"A Momentary Lapse of Reason\"\n                    },\n                    {\n                        \"name\": \"A Momentary Lapse of Reason\"\n                    },\n                    {\n                        \"name\": \"A Momentary Lapse Of Reason (2011 Remastered Version)\"\n                    },\n                    {\n                        \"name\": \"The Final Cut (2011 Remastered Version)\"\n                    },\n                    {\n                        \"name\": \"The Final Cut\"\n                    },\n                    {\n                        \"name\": \"The Wall\"\n                    },\n                    {\n                        \"name\": \"The Wall (Remastered)\"\n                    },\n                    {\n                        \"name\": \"Animals\"\n                    },\n                    {\n                        \"name\": \"Animals (2011 Remastered Version)\"\n                    },\n                    {\n                        \"name\": \"Wish You Were Here\"\n                    },\n                    {\n                        \"name\": \"Wish You Were Here [Remastered] (Remastered Version)\"\n                    },\n                    {\n                        \"name\": \"The Dark Side of the Moon\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"Dj Pink Floyd\",\n                \"image\": \"https://i.scdn.co/image/1e6e870d6fa368e77cb23fe628ca8d5d093f2d7c\",\n                \"albums\": [\n                    {\n                        \"name\": \"Go to Sleep\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"Think Pink Floyd\",\n                \"image\": \"https://i.scdn.co/image/15978deb5e42e26bbc81a0464084b9638457cb76\",\n                \"albums\": [\n                    {\n                        \"name\": \"Billy Martin\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"Pink Floyd Redux\",\n                \"image\": \"https://i.scdn.co/image/92911e90e7cfa8c64c2c790b22b75bce1e31508e\",\n                \"albums\": [\n                    {\n                        \"name\": \"A New Music Experience\"\n                    },\n                    {\n                        \"name\": \"Pink Floyd Redux\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"The Australian Pink Floyd Show\",\n                \"image\": \"https://i.scdn.co/image/4080bc55ea9ccc9f4fb101eae4c14351e832c382\",\n                \"albums\": [\n                    {\n                        \"name\": \"Exposed In The Light\"\n                    },\n                    {\n                        \"name\": \"Live at Hammersmith Apollo 2011\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"Celtic Pink Floyd\",\n                \"image\": \"https://i.scdn.co/image/41c1dd9c5d40e9e3d2e2abe90d7c6d751075af3b\",\n                \"albums\": [\n                    {\n                        \"name\": \"In Studio\"\n                    },\n                    {\n                        \"name\": \"Celtic Pink Floyd\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"The Pink Floyd Story\",\n                \"image\": \"https://i.scdn.co/image/2480d7c24b9ad93408a8455b1dc281d3f7239268\",\n                \"albums\": [\n                    {\n                        \"name\": \"The Great Gig In the Sky\"\n                    },\n                    {\n                        \"name\": \"American Horror Story - The Name Game\"\n                    },\n                    {\n                        \"name\": \"American Horror Story - The Name Game\"\n                    },\n                    {\n                        \"name\": \"Travellers - The Complete Fantasy Playlist\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"Floyd Pink\",\n                \"image\": \"https://i.scdn.co/image/5fd98e28dcbbaa97b3cc2ed84683589dddc424b4\",\n                \"albums\": [\n                    {\n                        \"name\": \"Money (Broke Version)\"\n                    },\n                    {\n                        \"name\": \"PUSH EP\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"Pink Floyd Project\",\n                \"image\": \"https://i.scdn.co/image/948813e539c645da4b8b0ef8a7560102a27bfc80\",\n                \"albums\": [\n                    {\n                        \"name\": \"Jelling Musikfestival 2012\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"Hungarian Pink Floyd Show\",\n                \"image\": \"https://i.scdn.co/image/53f81d7757b55320a9b4248cc96ef36d26f8dfe1\",\n                \"albums\": [\n                    {\n                        \"name\": \"On The Turning Away 2012\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"Atom Pink Floyd Tribute\",\n                \"image\": \"https://i.scdn.co/image/6cbd40d400a19ef0d86eec900b4cb78c18ed1354\",\n                \"albums\": [\n                    {\n                        \"name\": \"Tearing Down the Wall: Live 2015\"\n                    },\n                    {\n                        \"name\": \"Studio Sessions - Wish You Were Here\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"Pink Floyd Tribute Band\",\n                \"image\": \"\",\n                \"albums\": [\n                    {\n                        \"name\": \"World's Greatest Rock Anthems - The Only Rock Tributes Album You'll Ever Need! (Deluxe Version)\"\n                    },\n                    {\n                        \"name\": \"World's Greatest Rock Anthems - The only Rock Tributes album you'll ever need!\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"Made famous by Pink Floyd\",\n                \"image\": \"\",\n                \"albums\": [\n                    {\n                        \"name\": \"Lesbian Music\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"The Machine Perform Pink Floyd\",\n                \"image\": \"https://i.scdn.co/image/52a23a39ff1313c05a54a624734d90cc3057d34c\",\n                \"albums\": [\n                    {\n                        \"name\": \"Two Nights At The Keswick, Volume 2\"\n                    },\n                    {\n                        \"name\": \"The Machine Unplugged\"\n                    },\n                    {\n                        \"name\": \"Two Nights at the Keswick, Volume 1\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"THE ILLUSION A SOUND LIKE PINK FLOYD\",\n                \"image\": \"https://i.scdn.co/image/b83e98cbf88f9807fbe31c7cff33b959ba12cd67\",\n                \"albums\": [\n                    {\n                        \"name\": \"Project One\"\n                    },\n                    {\n                        \"name\": \"Leaving the Earth\"\n                    }\n                ]\n            }\n        ]\n    }\n}"
						}
					]
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{OAuth_Token}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "4b08f725-0318-46d4-a66c-e20987884efa",
				"type": "text/javascript",
				"exec": [
					"// Refresh the OAuth token if necessary",
					"var tokenDate = new Date(2010,1,1);",
					"var tokenTimestamp = pm.environment.get(\"OAuth_Timestamp\");",
					"if(tokenTimestamp){",
					"  tokenDate = Date.parse(tokenTimestamp);",
					"}",
					"var expiresInTime = pm.environment.get(\"ExpiresInTime\");",
					"if(!expiresInTime){",
					"    expiresInTime = 300000; // Set default expiration time to 5 minutes",
					"}",
					"if((new Date() - tokenDate) >= expiresInTime) ",
					"{",
					"   pm.sendRequest({",
					"      url:  pm.variables.get(\"Auth_Url\"), ",
					"      method: 'POST',",
					"      header: {",
					"        'Accept': 'application/json',",
					"        'Content-Type': 'application/x-www-form-urlencoded',",
					"      },",
					"      body: {",
					"          mode: 'urlencoded',",
					"          urlencoded: [",
					"            {key: \"grant_type\", value: \"password\"},",
					"            {key: \"client_id\", value: \"asapm\"},",
					"            {key: \"username\", value: pm.variables.get(\"Username\")},",
					"            {key: \"password\", value: pm.variables.get(\"Password\")}",
					"        ]",
					"      }",
					"  }, function (err, res) {",
					"        console.log(err,res)",
					"        pm.environment.set(\"OAuth_Token\", res.json().access_token);",
					"        pm.environment.set(\"OAuth_Timestamp\", new Date());",
					"        ",
					"        // Set the ExpiresInTime variable to the time given in the response if it exists",
					"        if(res.json().expires_in){",
					"            expiresInTime = res.json().expires_in * 1000;",
					"        }",
					"        pm.environment.set(\"ExpiresInTime\", expiresInTime);",
					"  });",
					"}"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "bcfa9363-86e8-43e7-b243-df641bbae543",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "581be64f-de85-411a-afbb-40face94852a",
			"key": "Auth_Url",
			"value": "https://keycloak.desy.de/auth/realms/asap/protocol/openid-connect/token\n"
		},
		{
			"id": "d98b70c5-53f2-465a-8c0f-924dac81ccd9",
			"key": "Username",
			"value": "asapm-test"
		},
		{
			"id": "7e1a53c9-8b7c-449f-b5cd-2d67b95ecd05",
			"key": "Password",
			"value": "test"
		}
	],
	"protocolProfileBehavior": {}
}